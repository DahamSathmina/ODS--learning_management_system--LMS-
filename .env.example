# ========================================
# ODS Learning Management System API
# Environment Configuration
# ========================================

# ----------------------------------------
# Server Configuration
# ----------------------------------------
NODE_ENV=development
PORT=3002
API_VERSION=v1
API_PREFIX=/api

# ----------------------------------------
# Security Configuration
# ----------------------------------------
JWT_SECRET=ods-lms-super-secret-jwt-key-2024-change-in-production
JWT_EXPIRE=24h
JWT_REFRESH_EXPIRE=7d
BCRYPT_ROUNDS=12

# ----------------------------------------
# Database Configuration
# ----------------------------------------
# PostgreSQL (Primary Database)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ods_lms
DB_USER=your-db-username
DB_PASS=your-db-password
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# MongoDB (Optional - for analytics/logs)
MONGO_URI=mongodb://localhost:27017/ods_lms_logs

# Redis (Optional - for caching/sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# ----------------------------------------
# Email Configuration
# ----------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM_NAME=ODS LMS
SMTP_FROM_EMAIL=noreply@odslms.com

# ----------------------------------------
# File Upload Configuration
# ----------------------------------------
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,ppt,pptx,mp4,mp3
MAX_FILES_PER_UPLOAD=5

# ----------------------------------------
# Rate Limiting
# ----------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ----------------------------------------
# CORS Configuration
# ----------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:5173,https://your-frontend-domain.com

# ----------------------------------------
# External Services
# ----------------------------------------
# AWS S3 (for file storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=ods-lms-files

# Cloudinary (alternative for media storage)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ----------------------------------------
# Payment Integration (Optional)
# ----------------------------------------
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox

# ----------------------------------------
# Logging Configuration
# ----------------------------------------
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=5

# ----------------------------------------
# Session Configuration
# ----------------------------------------
SESSION_SECRET=ods-lms-session-secret-change-in-production
SESSION_MAX_AGE=86400000
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true

# ----------------------------------------
# Video/Content Delivery
# ----------------------------------------
# Vimeo (for video hosting)
VIMEO_ACCESS_TOKEN=your-vimeo-access-token

# YouTube API (for video integration)
YOUTUBE_API_KEY=your-youtube-api-key

# ----------------------------------------
# Analytics & Monitoring
# ----------------------------------------
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ----------------------------------------
# SSL Configuration (Production)
# ----------------------------------------
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CERT_PATH=/path/to/ssl/certificate.crt
FORCE_HTTPS=true

# ----------------------------------------
# Backup Configuration
# ----------------------------------------
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# ----------------------------------------
# Feature Flags
# ----------------------------------------
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_FILE_UPLOADS=true
ENABLE_VIDEO_STREAMING=true
ENABLE_ANALYTICS=true
ENABLE_PAYMENTS=false

# ----------------------------------------
# Development/Debug
# ----------------------------------------
DEBUG=ods-lms:*
ENABLE_REQUEST_LOGGING=true
ENABLE_QUERY_LOGGING=false